# Configuration de production pour Konvix E-commerce
# Copier ce fichier en .env.local sur le serveur de production
# et adapter les valeurs selon votre environnement

###> symfony/framework-bundle ###
# IMPORTANT: En production, toujours utiliser APP_ENV=prod
APP_ENV=prod

# SÉCURITÉ: Générer une clé secrète forte et unique
# Utiliser: php bin/console secrets:generate-keys (ou openssl rand -hex 32)
APP_SECRET=CHANGEZ_CETTE_CLE_SECRETE_PAR_UNE_VRAIE_CLE_ALEATOIRE_DE_32_CARACTERES

# Mode debug: TOUJOURS false en production
APP_DEBUG=0
###< symfony/framework-bundle ###

###> symfony/routing ###
# URL de base de votre site en production
DEFAULT_URI=https://konvix.fr
###< symfony/routing ###

###> doctrine/doctrine-bundle ###
# Base de données MySQL/MariaDB en production
# Format: DATABASE_URL="mysql://utilisateur:motdepasse@serveur:port/nom_base?serverVersion=version&charset=utf8mb4"
# 
# Remplacer:
# - utilisateur: nom d'utilisateur MySQL
# - motdepasse: mot de passe MySQL
# - serveur: 127.0.0.1 (ou localhost)
# - port: 3306 (port par défaut MySQL)
# - nom_base: nom de votre base de données
# - serverVersion: version de votre serveur (10.11.2-MariaDB ou 8.0.32 pour MySQL 8)
#
# Exemple pour MariaDB 10.11:
DATABASE_URL="mysql://konvix_user:MOT_DE_PASSE_SECURISE@127.0.0.1:3306/konvix_db?serverVersion=10.11.2-MariaDB&charset=utf8mb4"
#
# Exemple pour MySQL 8:
# DATABASE_URL="mysql://konvix_user:MOT_DE_PASSE_SECURISE@127.0.0.1:3306/konvix_db?serverVersion=8.0.32&charset=utf8mb4"
###< doctrine/doctrine-bundle ###

###> symfony/mailer ###
# Configuration du serveur SMTP pour l'envoi d'emails
# Format: MAILER_DSN=smtp://utilisateur:motdepasse@serveur:port
#
# Exemples:
# - Gmail: smtp://votre-email@gmail.com:mot-de-passe-application@smtp.gmail.com:587
# - SendGrid: smtp://apikey:VOTRE_API_KEY@smtp.sendgrid.net:587
# - Mailgun: smtp://postmaster@votre-domaine:VOTRE_API_KEY@smtp.mailgun.org:587
# - OVH: smtp://votre-email@ovh.com:mot-de-passe@ssl0.ovh.net:465
# - Mailjet: smtp://VOTRE_API_KEY:VOTRE_SECRET_KEY@in-v3.mailjet.com:587
#
# Si pas d'envoi d'emails pour l'instant:
MAILER_DSN=null://null
###< symfony/mailer ###

###> stripe/stripe-php ###
# Clés Stripe pour le paiement en ligne
# IMPORTANT: Utiliser les clés LIVE (sk_live_...) en production, pas les clés de test
# Obtenir vos clés sur: https://dashboard.stripe.com/apikeys
#
# Clé secrète Stripe (LIVE):
STRIPE_SECRET_KEY=sk_live_VOTRE_CLE_SECRETE_STRIPE_LIVE
#
# Clé publique Stripe (à utiliser aussi dans les templates si nécessaire):
# STRIPE_PUBLIC_KEY=pk_live_VOTRE_CLE_PUBLIQUE_STRIPE_LIVE
###< stripe/stripe-php ###

###> Paramètres optionnels ###

# PayPal (si utilisé)
# PAYPAL_CLIENT_ID=votre_client_id_paypal_production
# PAYPAL_CLIENT_SECRET=votre_client_secret_paypal_production
# PAYPAL_MODE=live

# Redis (si utilisé pour le cache ou les sessions)
# REDIS_URL=redis://127.0.0.1:6379

# Configuration des uploads
# Taille maximale des fichiers uploadés (en Mo)
# MAX_UPLOAD_SIZE=10

# Nombre d'éléments par page pour la pagination
# PAGINATION_ITEMS_PER_PAGE=12

# Configuration CORS (si API utilisée)
# CORS_ALLOW_ORIGIN=^https?://(localhost|127\.0\.0\.1|konvix\.fr)(:[0-9]+)?$

###< Paramètres optionnels ###

################################################################################
# INSTRUCTIONS IMPORTANTES POUR LA PRODUCTION
################################################################################
#
# 1. SÉCURITÉ:
#    - Ne JAMAIS commiter ce fichier (.env.local) dans Git
#    - Générer une APP_SECRET unique et aléatoire
#    - Utiliser des mots de passe forts pour la base de données
#    - Utiliser les clés Stripe LIVE (sk_live_...) et non de test
#
# 2. PERFORMANCES:
#    - APP_ENV=prod (jamais dev en production)
#    - APP_DEBUG=0 (jamais 1 en production)
#    - Activer OPcache dans php.ini
#    - Configurer un système de cache (Redis/Memcached) si trafic important
#
# 3. BASE DE DONNÉES:
#    - Créer un utilisateur MySQL dédié avec les privilèges minimaux nécessaires
#    - Faire des sauvegardes régulières de la base de données
#    - Vérifier la version du serveur MySQL/MariaDB dans DATABASE_URL
#
# 4. EMAIL:
#    - Configurer un vrai serveur SMTP en production
#    - Tester l'envoi d'emails après configuration
#
# 5. MONITORING:
#    - Surveiller les logs: /var/www/konvix.fr/var/log/prod.log
#    - Surveiller les logs Apache: /var/log/apache2/konvix-error.log
#    - Mettre en place un système de monitoring (New Relic, Datadog, etc.)
#
# 6. CACHE:
#    - Toujours nettoyer le cache après modification de ce fichier:
#      sudo -u www-data php bin/console cache:clear --env=prod
#
################################################################################
